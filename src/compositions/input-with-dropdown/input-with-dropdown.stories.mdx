import { html } from 'lit-html';
import Readme from './readme.md';
import { Meta, Description, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks';

<Meta title="Forms/Invite user dropdown" component={'zen-dropdown'} />

# Dropdown

This component **is NOT really a component**. It's actually just a composition of `Input` and a `Dropdown` component. Dropdown is placed into input using input's slot `trailingSlot`.

## Component preview

export const Template = ({ menuWidth, fieldAlign }) => {
  const options = [{ label: 'ZenGRC Administrator' }, { label: 'Manager' }, { label: 'Collaborator' }];
  function onDropdownFocus() {
    document.querySelector('#input1').hasFocus = true;
    setTimeout(() => {
      // Should be in timeout, otherwise click would toggle - close it
      document.querySelector('#dropdown1').toggle(true);
    }, 100);
  }
  function onDropdownBlur() {
    document.querySelector('#input1').hasFocus = false;
  }
  return html`<zen-input id="input1" placeholder="Username" class="mb-80">
    <zen-dropdown
      id="dropdown1"
      slot="trailingSlot"
      borderless="true"
      placeholder="choose role"
      style="width: auto;"
      .options=${options}
      menu-width=${menuWidth}
      field-align=${fieldAlign}
      @focus="${onDropdownFocus}"
      @blur="${onDropdownBlur}"
    >
      <div slot="options">
        ${options.map((item, index) => html`<zen-option label=${item.label} value=${item.label}></zen-option>`)}
      </div>
    </zen-dropdown>
  </zen-input>`;
};

<Preview>
  <Story
    name="button"
    args={{
      menuWidth: '220px',
      fieldAlign: 'right',
    }}
  >
    {Template.bind({})}
  </Story>
</Preview>

<Props story="button" />
