import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { html } from 'lit-html';
import Readme from './readme.md';
import { eventHandles, action } from '../../../.storybook/helpers/custom-action';
import { getArgTypes, getDefaultArgs, getComponentData, spreadArgs } from '../../../.storybook/helpers/argTypes';

import data from '../../../stencilDocs.json';
const compData = data.components.find(n => n.tag === 'zen-form-group');
const argTypes = getArgTypes(compData);

<Meta title="Forms/zFragments/Form Group" component="zen-form-group" argTypes={argTypes} />

export const StoryWithControls = args => {
  return html/*html*/ `
    <zen-form-group ...=${spreadArgs(args, argTypes)}>
      <zen-text variant="label" required>Username</zen-text>
      <zen-input></zen-input>
      <zen-text variant="support">This field should be unique</zen-text>
    </zen-form-group>
  `;
};

export const StoryLabelAndSupport = () => {
  return html/*html*/ `
    <zen-form-group>
      <zen-text variant="label">Username</zen-text>
      <zen-input></zen-input>
      <zen-text variant="support">This field should be unique</zen-text>
    </zen-form-group>
  `;
};

export const StoryWithLabelAndTextarea = () => {
  return html/*html*/ `
    <zen-form-group>
      <zen-text variant="label">Describe yourself</zen-text>
      <zen-textarea placeholder="Write here..."></zen-textarea>
      <zen-text variant="support">0 of 2500 characters</zen-text>
    </zen-form-group>
    </zen-form-group>
  `;
};

export const StoryWithAllFormComponents = () => {
  return html/*html*/ `
    <zen-form-group>
      <zen-label label="Name" required></zen-label>
      <zen-input></zen-input>
      <zen-label label="Lastname" required></zen-label>
      <zen-input></zen-input>
      <zen-label label="Name" required></zen-label>
      <zen-dropdown>
        <zen-option>Item 4</zen-option>
        <zen-option>Item 5</zen-option>
        <zen-option>Item 6 abc</zen-option>
      </zen-dropdown>
      <zen-label label="Describe yourself"></zen-label>
      <zen-textarea placeholder="Write here..."></zen-textarea>
      <zen-input-support-text text="0 of 2500 characters"></zen-input-support-text>
      <zen-checkbox>Remember me</zen-checkbox>
      <zen-button>Button</zen-button>
    </zen-form-group>
  `;
};

# Form group

Wrapper around input that ensures correct styles and spacings

## Component previews

<br />

### 1. Form group with text variant `label`, input and text variant `support`

<Canvas>
  <Story
    name="supportlabel"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryLabelAndSupport.bind({})}
  </Story>
</Canvas>

### 2. Form group with textarea

<Canvas>
  <Story
    name="textarea"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryWithLabelAndTextarea.bind({})}
  </Story>
</Canvas>

### 2. Form group with textarea

<Canvas>
  <Story
    name="allFormElements"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryWithAllFormComponents.bind({})}
  </Story>
</Canvas>

<br />

\* Note that there's also a `Form group preview` in each story of components that support form group (eg. check Input story)

## Properties

<Canvas>
  <Story
    name="default"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryWithControls.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

<docs-table docs={JSON.stringify(getComponentData('zen-form-group'))}></docs-table>
