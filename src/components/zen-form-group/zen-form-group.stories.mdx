import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { html } from 'lit-html';
import Readme from './readme.md';
import { eventHandles, action } from '../../../.storybook/helpers/custom-action';
import { getArgTypes, getDefaultArgs, getComponentData, spreadArgs } from '../../../.storybook/helpers/argTypes';

import data from '../../../stencilDocs.json';
const compData = data.components.find(n => n.tag === 'zen-form-group');
const argTypes = getArgTypes(compData);

<Meta title="Forms/zFragments/Form Group" component="zen-form-group" argTypes={argTypes} />

export const StoryWithControls = args => {
  return html/*html*/ `
    <sb-zen-form-group ...=${spreadArgs(args, argTypes)}>
      <sb-zen-text variant="label" required>Username</sb-zen-text>
      <sb-zen-input></sb-zen-input>
      <sb-zen-text variant="support">This field should be unique</sb-zen-text>
    </sb-zen-form-group>
  `;
};

export const StoryLabelAndSupport = () => {
  return html/*html*/ `
    <sb-zen-form-group>
      <sb-zen-text variant="label">Username</sb-zen-text>
      <sb-zen-input></sb-zen-input>
      <sb-zen-text variant="support">This field should be unique</sb-zen-text>
    </sb-zen-form-group>
  `;
};

export const StoryWithLabelAndTextarea = () => {
  return html/*html*/ `
    <sb-zen-form-group>
      <sb-zen-text variant="label">Describe yourself</sb-zen-text>
      <sb-zen-textarea placeholder="Write here..."></sb-zen-textarea>
      <sb-zen-text variant="support">0 of 2500 characters</sb-zen-text>
    </sb-zen-form-group>
  `;
};

export const StoryWithAllFormComponents = () => {
  return html/*html*/ `
    <div>
      <sb-zen-form-group>
        <sb-zen-text variant="label" required>Name</sb-zen-text>
        <sb-zen-input></sb-zen-input>
      </sb-zen-form-group>
      <sb-zen-form-group>
        <sb-zen-text variant="label" required>Lastname</sb-zen-text>
        <sb-zen-input></sb-zen-input>
      </sb-zen-form-group>
      <sb-zen-form-group>
        <sb-zen-text variant="label" required>Country</sb-zen-text>
        <sb-zen-dropdown>
          <sb-zen-option>Argentina</sb-zen-option>
          <sb-zen-option>Slovenia</sb-zen-option>
          <sb-zen-option>United States</sb-zen-option>
        </sb-zen-dropdown>
      </sb-zen-form-group>
      <sb-zen-form-group>
        <sb-zen-text variant="label" required>Comments</sb-zen-text>
        <sb-zen-textarea placeholder="Write here..."></sb-zen-textarea>
        <sb-zen-input-support-text text="0 of 2500 characters"></sb-zen-input-support-text>
      </sb-zen-form-group>
      <sb-zen-form-group>
        <sb-zen-checkbox label="Has admin rights"></sb-zen-checkbox>
      </sb-zen-form-group>
      <sb-zen-form-group>
        <sb-zen-button>Save</sb-zen-button>
      </sb-zen-form-group>
    </div>
  `;
};

# Form group

Wrapper around input that ensures correct styles and spacings

## Component previews

<br />

### 1. Form group with text variant `label`, input and text variant `support`

<Canvas>
  <Story
    name="supportlabel"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryLabelAndSupport.bind({})}
  </Story>
</Canvas>

### 2. Form group with textarea

<Canvas>
  <Story
    name="textarea"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryWithLabelAndTextarea.bind({})}
  </Story>
</Canvas>

### 3. Composing form groups

<Canvas>
  <Story
    name="allFormElements"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryWithAllFormComponents.bind({})}
  </Story>
</Canvas>

<br />

\* Note that there's also a `Form group preview` in each story of components that support form group (eg. check Input story)

## Properties

<Canvas>
  <Story
    name="default"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryWithControls.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

<docs-table docs={JSON.stringify(getComponentData('zen-form-group'))}></docs-table>
