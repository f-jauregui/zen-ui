import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { html } from 'lit-html';
import { action } from '../../../.storybook/helpers/custom-action';
import { getArgTypes, getDefaultArgs, getComponentData, spreadArgs } from '../../../.storybook/helpers/argTypes';
import { waitForElement } from '../../../.storybook/helpers/utils';

import data from '../../../stencilDocs.json';
const compData = data.components.find(n => n.tag === 'zen-input');
const argTypes = getArgTypes(compData);

import { litHtmlIcon, styles } from '../helpers/fa-icons';
import { faUser, faKey, faSearch } from '@fortawesome/pro-light-svg-icons';

<Meta title="Forms/Input" component="zen-input" argTypes={argTypes} />

export const StoryWithControls = args => html/*html*/ `
  <zen-input id="input1" style="max-width: 300px" ...="${spreadArgs(args)}"></zen-input>
  ${action('#input1', ['blur', 'focus', 'input', 'change'])}
`;

export const StoryWithLeadingSlot = () =>
  html/*html*/ `
    <zen-input style="max-width: 300px">
      <i
        slot="leadingSlot"
        style="width: 1rem; height: 1rem; margin-left: 0.5rem;"
        .innerHTML="${litHtmlIcon(faUser)}"
      ></i>
    </zen-input>
  `;
};

export const StoryWithTrailingSlot = () =>
  html/*html*/ `
    <zen-input style="max-width: 300px; cursor:pointer" placeholder="Search...">
      <i
        slot="trailingSlot"
        style="width: 1rem; height: 1rem; margin-right: 0.5rem;"
        @click="${() => alert('Search!')}"
        .innerHTML="${litHtmlIcon(faSearch)}"
      ></i>
    </zen-input>
  `;

export const StoryWithLeadingAndTrailingSlots = () =>
  html/*html*/ `
    <zen-input style="max-width: 300px">
      <i
        slot="leadingSlot"
        style="width: 1rem; height: 1rem; margin-left: 0.5rem;"
        .innerHTML="${litHtmlIcon(faUser)}"
      ></i>
      <i
        slot="trailingSlot"
        style="width: 1rem; height: 1rem; margin-right: 0.5rem;"
        .innerHTML="${litHtmlIcon(faKey)}"
      ></i>
    </zen-input>
  `;
};

# Input

Form input component with slots capabilities

## Component previews

<br />

### 1. Input with leading slot fulfilled

- Apply leadingSlot value for the slot attribute in your inner custom HTML

<Canvas>
  <Story
    name="StoryWithLeadingSlot"
    args={{
      ...getDefaultArgs(argTypes),
      icon: faUser,
    }}
  >
    {StoryWithLeadingSlot.bind({})}
  </Story>
</Canvas>

### 2. Search bar - Input with trailing slot fulfilled

- Apply trailingSlot value for the slot attribute in your inner custom HTML

<Canvas>
  <Story
    name="StoryWithTrailingSlot"
    args={{
      ...getDefaultArgs(argTypes),
      icon: faUser,
    }}
  >
    {StoryWithTrailingSlot.bind({})}
  </Story>
</Canvas>

### 3. Input with leading and trailing slots fulfilled

- Apply leadingSlot and trailingSlot values for the slot attributes in your inner custom HTML

<Canvas>
  <Story
    name="StoryWithLeadingAndTrailingSlots"
    args={{
      ...getDefaultArgs(argTypes),
      icon: faUser,
    }}
  >
    {StoryWithLeadingAndTrailingSlots.bind({})}
  </Story>
</Canvas>

## Properties

<Canvas>
  <Story
    name="default"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryWithControls.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

<docs-table docs={JSON.stringify(getComponentData('zen-input'))}></docs-table>
