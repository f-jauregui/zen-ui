import { html } from 'lit-html';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { waitForElement } from '../../../.storybook/helpers/utils';
import { getArgTypesAndArgs, getDefaultArgs, getComponentData, spreadArgs } from '../../../.storybook/helpers/argTypes';
const { argTypes } = getArgTypesAndArgs('zen-sortable');

<Meta title="In progress/Sortable/Sortable" component="zen-sortable" argTypes={argTypes} />

export const StorySortable = () => {
  waitForElement('#sortable', element => {
    element.addEventListener('change', ev => {
      console.log('event: ', ev);
    });
  });
  return html/*html*/ ` <style>
      .container {
        width: 100%;
      }
    </style>
    <sb-zen-sortable id="sortable" padding="lg" spacing="lg" style="width:230px;border:1px solid lightgray">
      <sb-zen-sortable-item key="1">
        <sb-zen-space class="container" fill horizontal-align="space-between" vertical-align="center">
          <sb-zen-text>Title</sb-zen-text>
          <sb-zen-toggle></sb-zen-toggle>
        </sb-zen-space>
      </sb-zen-sortable-item>
      <sb-zen-sortable-item key="2">
        <sb-zen-space class="container" fill horizontal-align="space-between" vertical-align="center">
          <sb-zen-text>Description</sb-zen-text>
          <sb-zen-toggle></sb-zen-toggle>
        </sb-zen-space>
      </sb-zen-sortable-item>
      <sb-zen-sortable-item key="3">
        <sb-zen-space class="container" fill horizontal-align="space-between" vertical-align="center">
          <sb-zen-text>Status</sb-zen-text>
          <sb-zen-toggle></sb-zen-toggle>
        </sb-zen-space>
      </sb-zen-sortable-item>
      <sb-zen-sortable-item key="4">
        <sb-zen-space class="container" fill horizontal-align="space-between" vertical-align="center">
          <sb-zen-text>Manager</sb-zen-text>
          <sb-zen-toggle></sb-zen-toggle>
        </sb-zen-space>
      </sb-zen-sortable-item>
    </sb-zen-sortable>`;
};

export const StoryWithControls = args => {
  waitForElement('#controls', element => {
    element.addEventListener('change', ev => {
      console.log('event: ', ev);
    });
  });
  return html/*html*/ ` <sb-zen-sortable
    id="controls"
    ...="${spreadArgs(args, argTypes)}"
    style="border:1px solid lightgray"
  >
    <sb-zen-sortable-item key="1">
      <sb-zen-text>Item 1</sb-zen-text>
    </sb-zen-sortable-item>
    <sb-zen-sortable-item key="2">
      <sb-zen-text>Item 2</sb-zen-text>
    </sb-zen-sortable-item>
    <sb-zen-sortable-item key="3">
      <sb-zen-text>Item 3</sb-zen-text>
    </sb-zen-sortable-item>
    <sb-zen-sortable-item key="4">
      <sb-zen-text>Item 4</sb-zen-text>
    </sb-zen-sortable-item>
  </sb-zen-sortable>`;
};

# Zen Sortable

Slotted content becomes draggable.

<br />

## Component previews

<br />

### 1. Sortable items

A composition of `ZenSortable` component and fragment `ZenSortableItem` components with custom default slot content.

<Canvas>
  <Story name="Sortable">{StorySortable.bind({})}</Story>
</Canvas>

## Properties

<Canvas>
  <Story
    name="default"
    args={{
      ...getDefaultArgs(argTypes),
      padding: 'lg',
      spacing: 'md',
    }}
  >
    {StoryWithControls.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

<docs-table docs={JSON.stringify(getComponentData('zen-sortable'))}></docs-table>
