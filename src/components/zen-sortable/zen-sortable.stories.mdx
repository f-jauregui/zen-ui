import { html } from 'lit-html';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { logEvents } from '../../../.storybook/helpers/log-events';
import { getArgTypesAndArgs, getDefaultArgs, getComponentData, spreadArgs } from '../../../.storybook/helpers/argTypes';
const { argTypes } = getArgTypesAndArgs('zen-sortable');

<Meta title="Lists/Sortable/Sortable" component="zen-sortable" argTypes={argTypes} />

export const StorySortable = () => {
  return html/*html*/ `
    <sb-zen-sortable id="sortable" spacing="sm" padding="sm" style="width:230px;border:1px solid lightgray;">
      <sb-zen-sortable-item padding="md" data-id="1">
          <sb-zen-text>Title</sb-zen-text>
          <sb-zen-toggle></sb-zen-toggle>
      </sb-zen-sortable-item>
      <sb-zen-sortable-item padding="md" data-id="2">
          <sb-zen-text>Description</sb-zen-text>
          <sb-zen-toggle></sb-zen-toggle>
      </sb-zen-sortable-item>
      <sb-zen-sortable-item padding="md" data-id="3">
          <sb-zen-text>Status</sb-zen-text>
          <sb-zen-toggle style=></sb-zen-toggle>
      </sb-zen-sortable-item>
      <sb-zen-sortable-item padding="md" data-id="4">
          <sb-zen-text>Manager</sb-zen-text>
          <sb-zen-toggle></sb-zen-toggle>
      </sb-zen-sortable-item>
    </sb-zen-sortable>
  ${logEvents('#sortable', getComponentData('zen-sortable'))}`;
};

export const StoryWithControls = args => {
  return html/*html*/ ` <sb-zen-sortable
    id="controls"
    ...="${spreadArgs(args, argTypes)}"
    style="border:1px solid lightgray;"
  >
    <sb-zen-sortable-item data-id="1">
      <sb-zen-text>Item 1</sb-zen-text>
    </sb-zen-sortable-item>
    <sb-zen-sortable-item data-id="2">
      <sb-zen-text>Item 2</sb-zen-text>
    </sb-zen-sortable-item>
    <sb-zen-sortable-item data-id="3">
      <sb-zen-text>Item 3</sb-zen-text>
    </sb-zen-sortable-item>
    <sb-zen-sortable-item data-id="4">
      <sb-zen-text>Item 4</sb-zen-text>
    </sb-zen-sortable-item>
  </sb-zen-sortable>
  ${logEvents('#controls', getComponentData('zen-sortable'))}`;
};

# Zen Sortable

Slotted `zen-sortable-items` becomes draggable. Each draggable item should have unique attribute defined by prop `key`. On item drag&drop `drop` event is triggered. It contains list of item keys that resembles new order.

<br />

## Component previews

<br />

### 1. Sortable items

A composition of `ZenSortable` component and fragment `ZenSortableItem` components with custom default slot content.

<Canvas>
  <Story name="Sortable">{StorySortable.bind({})}</Story>
</Canvas>

## Properties

<Canvas>
  <Story
    name="default"
    args={{
      ...getDefaultArgs(argTypes),
    }}
  >
    {StoryWithControls.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

<docs-table docs={JSON.stringify(getComponentData('zen-sortable'))}></docs-table>
