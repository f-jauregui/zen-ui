import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { html } from 'lit-html';
import { logEvents } from '#storybook/helpers/log-events';
import { getArgTypes, getDefaultArgs, getComponentData, spreadArgs } from '#storybook/helpers/argTypes';
import { htmlToElement } from '../helpers/helpers';

import data from '../../../stencilDocs.json';
import { faArrowRight } from '@fortawesome/pro-light-svg-icons';
import { waitForElement } from '#storybook/helpers/utils';
const compData = data.components.find(n => n.tag === 'zen-table');
const argTypes = getArgTypes(compData);
argTypes.$updating.control = { type: 'none' };

<Meta title="Lists/Table/Table" component="zen-table" argTypes={argTypes} />

export const Story1 = () => {
  return html/*html*/ `
    <sb-zen-table columns="repeat(8, 1fr)">
      <sb-zen-table-row header>
        <sb-zen-table-cell>Title 1</sb-zen-table-cell>
        <sb-zen-table-cell>Title 2</sb-zen-table-cell>
        <sb-zen-table-cell>Title 3</sb-zen-table-cell>
        <sb-zen-table-cell>Title 4</sb-zen-table-cell>
        <sb-zen-table-cell>Title 5</sb-zen-table-cell>
        <sb-zen-table-cell>Title 6</sb-zen-table-cell>
        <sb-zen-table-cell>Title 7</sb-zen-table-cell>
        <sb-zen-table-cell>Title 8</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row>
        <sb-zen-table-cell>Row 1, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 4</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 5</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 6</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 7</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 8</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row>
        <sb-zen-table-cell>Row 2, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 4</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 5</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 6</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 7</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 8</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row>
        <sb-zen-table-cell>Row 3, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 4</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 5</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 6</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 7</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 8</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row>
        <sb-zen-table-cell>Row 4, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 4</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 5</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 6</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 7</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 8</sb-zen-table-cell>
      </sb-zen-table-row>
    </sb-zen-table>
  `;
};

export const Story2 = () => {
  return html/*html*/ `
    <!-- Necessary for demonstrating sticky header -->
    <div style="height: 300px; overflow-y: auto;">
      <sb-zen-table columns="repeat(4, 1fr)">
        <sb-zen-table-row header sticky>
          <sb-zen-table-cell>Title 1</sb-zen-table-cell>
          <sb-zen-table-cell>Title 2</sb-zen-table-cell>
          <sb-zen-table-cell>Title 3</sb-zen-table-cell>
          <sb-zen-table-cell>Title 4</sb-zen-table-cell>
        </sb-zen-table-row>
        <sb-zen-table-row>
          <sb-zen-table-cell>Row 1, Cell 1</sb-zen-table-cell>
          <sb-zen-table-cell>Row 1, Cell 2</sb-zen-table-cell>
          <sb-zen-table-cell>Row 1, Cell 3</sb-zen-table-cell>
          <sb-zen-table-cell>Row 1, Cell 4</sb-zen-table-cell>
        </sb-zen-table-row>
        <sb-zen-table-row>
          <sb-zen-table-cell>Row 2, Cell 1</sb-zen-table-cell>
          <sb-zen-table-cell>Row 2, Cell 2</sb-zen-table-cell>
          <sb-zen-table-cell>Row 2, Cell 3</sb-zen-table-cell>
          <sb-zen-table-cell>Row 2, Cell 4</sb-zen-table-cell>
        </sb-zen-table-row>
        <sb-zen-table-row>
          <sb-zen-table-cell>Row 3, Cell 1</sb-zen-table-cell>
          <sb-zen-table-cell>Row 3, Cell 2</sb-zen-table-cell>
          <sb-zen-table-cell>Row 3, Cell 3</sb-zen-table-cell>
          <sb-zen-table-cell>Row 3, Cell 4</sb-zen-table-cell>
        </sb-zen-table-row>
        <sb-zen-table-row>
          <sb-zen-table-cell>Row 4, Cell 1</sb-zen-table-cell>
          <sb-zen-table-cell>Row 4, Cell 2</sb-zen-table-cell>
          <sb-zen-table-cell>Row 4, Cell 3</sb-zen-table-cell>
          <sb-zen-table-cell>Row 4, Cell 4</sb-zen-table-cell>
        </sb-zen-table-row>
        <sb-zen-table-row>
          <sb-zen-table-cell>Row 5, Cell 1</sb-zen-table-cell>
          <sb-zen-table-cell>Row 5, Cell 2</sb-zen-table-cell>
          <sb-zen-table-cell>Row 5, Cell 3</sb-zen-table-cell>
          <sb-zen-table-cell>Row 5, Cell 4</sb-zen-table-cell>
        </sb-zen-table-row>
        <sb-zen-table-row>
          <sb-zen-table-cell>Row 6, Cell 1</sb-zen-table-cell>
          <sb-zen-table-cell>Row 6, Cell 2</sb-zen-table-cell>
          <sb-zen-table-cell>Row 6, Cell 3</sb-zen-table-cell>
          <sb-zen-table-cell>Row 6, Cell 4</sb-zen-table-cell>
        </sb-zen-table-row>
        <sb-zen-table-row>
          <sb-zen-table-cell>Row 7, Cell 1</sb-zen-table-cell>
          <sb-zen-table-cell>Row 7, Cell 2</sb-zen-table-cell>
          <sb-zen-table-cell>Row 7, Cell 3</sb-zen-table-cell>
          <sb-zen-table-cell>Row 7, Cell 4</sb-zen-table-cell>
        </sb-zen-table-row>
        <sb-zen-table-row>
          <sb-zen-table-cell>Row 8, Cell 1</sb-zen-table-cell>
          <sb-zen-table-cell>Row 8, Cell 2</sb-zen-table-cell>
          <sb-zen-table-cell>Row 8, Cell 3</sb-zen-table-cell>
          <sb-zen-table-cell>Row 8, Cell 4</sb-zen-table-cell>
        </sb-zen-table-row>
      </sb-zen-table>
    </div>
  `;
};

export const Story3 = () => {
  return html/*html*/ `
    <sb-zen-table columns="repeat(4, 1fr)">
      <sb-zen-table-row>
        <sb-zen-table-cell>Row 1, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row>
        <sb-zen-table-cell>Row 2, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row>
        <sb-zen-table-cell>Row 3, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row>
        <sb-zen-table-cell>Row 4, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
    </sb-zen-table>
  `;
};

export const StorySelectable = () => {
  return html/*html*/ `
    <sb-zen-table columns="repeat(4, 1fr)">
      <sb-zen-table-row header selectable>
        <sb-zen-table-cell>Title 1</sb-zen-table-cell>
        <sb-zen-table-cell>Title 2</sb-zen-table-cell>
        <sb-zen-table-cell>Title 3</sb-zen-table-cell>
        <sb-zen-table-cell>Title 4</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>Row 1, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>Row 2, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>Row 3, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 3, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>Row 4, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 4, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
    </sb-zen-table>
  `;
};

export const StoryTree = () => {
  return html/*html*/ `
    <style>
      .first {
        width: 50%;
      }
    </style>
    <sb-zen-table columns="repeat(4, 1fr)">
      <sb-zen-table-row selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 1 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 2 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 3 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="2" selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 4 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="2" selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 5 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="2" selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 6 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 7 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 8 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 8 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell class="first"
          ><sb-zen-text>PCI Requirement 9 - Firewall Configuration</sb-zen-text></sb-zen-table-cell
        >
        <sb-zen-table-cell><sb-zen-text>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
    </sb-zen-table>
  `;
};

export const StoryTreeWithHeader = () => {
  waitForElement('#icon1', element => {
    element.icon = faArrowRight;
  });
  return html/*html*/ `
    <sb-zen-table columns="auto 1fr 1fr">
      <sb-zen-table-row header sticky selectable>
        <sb-zen-table-cell>Title</sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-table-cell>
        <sb-zen-table-cell>Description</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>PCI Requirement 1 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell>PCI Requirement 2 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell>PCI Requirement 3 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="2" selectable>
        <sb-zen-table-cell>PCI Requirement 4 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="2" selectable>
        <sb-zen-table-cell>PCI Requirement 5 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="2" selectable>
        <sb-zen-table-cell>PCI Requirement 6 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell>PCI Requirement 7 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>PCI Requirement 8 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell>PCI Requirement 8 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1" selectable>
        <sb-zen-table-cell>PCI Requirement 9 - Firewall Configuration</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Status</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell>Some description plus some</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
    </sb-zen-table>
  `;
};

export const StoryExtendedRowContent = () => {
  return html/*html*/ `
    <sb-zen-table columns="repeat(4, 1fr)">
      <sb-zen-table-row header selectable>
        <sb-zen-table-cell>Title 1</sb-zen-table-cell>
        <sb-zen-table-cell>Title 2</sb-zen-table-cell>
        <sb-zen-table-cell>Title 3</sb-zen-table-cell>
        <sb-zen-table-cell>Title 4</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>Row 1, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 1, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1">
        <sb-zen-table-cell full-span background-color="#f0f3f6">
          <sb-zen-space vertical spacing="lg" padding="lg" padding-left="6xl" stretch>
            <sb-zen-text variant="heading" size="xs">Nested table</sb-zen-text>
            <sb-zen-table columns="auto 1fr 1fr 1fr">
              <sb-zen-table-row>
                <sb-zen-table-cell>Inner Row 1, Cell 1</sb-zen-table-cell>
                <sb-zen-table-cell>Inner Row 1, Cell 2</sb-zen-table-cell>
              </sb-zen-table-row>
              <sb-zen-table-row>
                <sb-zen-table-cell>Inner Row 2, Cell 1</sb-zen-table-cell>
                <sb-zen-table-cell>Inner Row 2, Cell 2</sb-zen-table-cell>
              </sb-zen-table-row>
            </sb-zen-table>
            <sb-zen-text bold>Some dropdown:</sb-zen-text>
            <sb-zen-dropdown style="width: 100%">
              <sb-zen-option value="1" disabled="true">Option 1</sb-zen-option>
              <sb-zen-option value="2">Option 2</sb-zen-option>
              <sb-zen-option value="3">Option 3</sb-zen-option>
              <sb-zen-option value="4">Option 4</sb-zen-option>
            </sb-zen-dropdown>
          </sb-zen-space>
        </sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>Row 2, Cell 1</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 2</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 3</sb-zen-table-cell>
        <sb-zen-table-cell>Row 2, Cell 4</sb-zen-table-cell>
      </sb-zen-table-row>
    </sb-zen-table>
  `;
};

export const StoryTruncateText = () => {
  waitForElement('#icon1', element => {
    element.icon = faArrowRight;
  });
  return html/*html*/ `
    <sb-zen-table columns="repeat(4, 1fr)">
      <sb-zen-table-row header selectable>
        <sb-zen-table-cell>
          <sb-zen-text truncate>Title 1</sb-zen-text>
        </sb-zen-table-cell>
        <sb-zen-table-cell>
          <sb-zen-text truncate>Title 2</sb-zen-text>
        </sb-zen-table-cell>
        <sb-zen-table-cell>
          <sb-zen-text truncate>Title 3</sb-zen-text>
        </sb-zen-table-cell>
        <sb-zen-table-cell>
          <sb-zen-text truncate>File name</sb-zen-text>
        </sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>
          <sb-zen-icon id="icon1" padding-right="md"></sb-zen-icon>
          <sb-zen-text truncate>Some very very long text that will be truncated</sb-zen-text>
        </sb-zen-table-cell>
        <sb-zen-table-cell>
          <sb-zen-text>I will break into multiple lines</sb-zen-text>
        </sb-zen-table-cell>
        <sb-zen-table-cell no-shrink>
          <sb-zen-text truncate bold>Never truncated this text!</sb-zen-text>
        </sb-zen-table-cell>
        <sb-zen-table-cell>
          <sb-zen-text truncate>A very very long file name that will be truncated</sb-zen-text>
          <sb-zen-text>.jpg</sb-zen-text>
        </sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell>
          <sb-zen-text truncate>Row 1, Cell 1</sb-zen-text>
        </sb-zen-table-cell>
        <sb-zen-table-cell>
          <sb-zen-text truncate>Row 1, Cell 2</sb-zen-text>
        </sb-zen-table-cell>
        <sb-zen-table-cell>
          <sb-zen-text truncate>Row 1, Cell 3</sb-zen-text>
        </sb-zen-table-cell>
        <sb-zen-table-cell>
          <sb-zen-text truncate>Row 1, Cell 4</sb-zen-text>
        </sb-zen-table-cell>
      </sb-zen-table-row>
    </sb-zen-table>
  `;
};

export const StoryWithControls = args => {
  //
  function element(selector) {
    return document.querySelector(selector);
  }
  //
  function selectRow(row) {
    const sel = Array.from(document.querySelectorAll(`sb-zen-table-row.selected`));
    sel.forEach(n => n.classList.remove('selected'));
    if (!row || !row.tagName.endsWith('-ROW') || row.header) return;
    row.classList.add('selected');
  }
  //
  function clicked(event) {
    const row = event.target.tagName.endsWith('-CELL') ? event.target.parentElement : event.target;
    selectRow(row);
  }
  //
  function rowDescendants(row) {
    const descendants = [];
    let next = row;
    while (next) {
      next = next.nextElementSibling;
      if (!next || next.depth <= row.depth) break;
      descendants.push(next);
    }
    return descendants;
  }
  //
  function removeRow() {
    const row = element(`sb-zen-table-row.selected`);
    if (!row) {
      alert('No row selected!');
      return;
    }
    const newSelection = row.nextElementSibling || row.previousElementSibling;
    row.remove();
    selectRow(newSelection);
  }
  //
  function insertRow() {
    let parent = element(`sb-zen-table-row.selected`);
    if (!parent) {
      alert('Select some row first!');
      return;
    }
    const type = element('[group=insert-type]').selected;
    const depth = parent.depth + (type === 'sibling' ? 0 : 1);
    const selected = element(`#chk-selected`).checked;
    const selectable = selected || element(`#chk-selectable`).checked;
    const count = parseInt(element('#insert-count').value, 10) || 1;
    //
    if (type === 'sibling') {
      // Insert after last descendent:
      const descendants = rowDescendants(parent);
      parent = descendants[descendants.length - 1] || parent;
    }
    //
    let child;
    for (let i = 0; i < count; i++) {
      child = htmlToElement(/*html*/ `
        <sb-zen-table-row
          depth="${depth}"
          ${selectable ? 'selectable' : ''}
          ${selected ? 'selected' : ''}
        >
          <sb-zen-table-cell>Title 1</sb-zen-table-cell>
          <sb-zen-table-cell>Title 2</sb-zen-table-cell>
          <sb-zen-table-cell>Title 3</sb-zen-table-cell>
          <sb-zen-table-cell>Title 4</sb-zen-table-cell>
        </sb-zen-table-row>
        `)[0];
      parent.insertAdjacentElement('afterend', child);
    }
    selectRow(child);
  }
  //
  return html/*html*/ ` <style>
      sb-zen-table-row.selected > sb-zen-table-cell:first-child::before {
        content: '';
        position: absolute;
        top: calc(50% - 3px);
        left: 0;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background-color: #0078cd;
      }
    </style>
    <sb-zen-table id="table1" ...="${spreadArgs(args, argTypes)}" @click="${e => clicked(e)}">
      <sb-zen-table-row header selectable>
        <sb-zen-table-cell><sb-zen-text truncate>Title 1</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Title 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Title 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Title 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell><sb-zen-text truncate>Row 1, Cell 1</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 1, Cell 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 1, Cell 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 1, Cell 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell><sb-zen-text truncate>Row 2, Cell 1</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 2, Cell 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 2, Cell 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 2, Cell 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell><sb-zen-text truncate>Row 3, Cell 1</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 3, Cell 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 3, Cell 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 3, Cell 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell><sb-zen-text truncate>Row 4, Cell 1</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 4, Cell 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 4, Cell 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 4, Cell 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row depth="1">
        <sb-zen-table-cell><sb-zen-text truncate>Non-selectable</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable depth="1">
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 1</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable depth="2">
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 1</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable depth="1">
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 1</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
      <sb-zen-table-row selectable>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 1</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 2</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 3</sb-zen-text></sb-zen-table-cell>
        <sb-zen-table-cell><sb-zen-text truncate>Row 5, Cell 4</sb-zen-text></sb-zen-table-cell>
      </sb-zen-table-row>
    </sb-zen-table>
    <sb-zen-text bold style="margin-top: 2rem">Zen-table rows editor</sb-zen-text>
    <sb-zen-space spacing="md" padding-top="xl">
      <sb-zen-text>Add </sb-zen-text>
      <sb-zen-input id="insert-count" value="1" type="number" style="max-width: 60px"></sb-zen-input>
      <sb-zen-text>new </sb-zen-text>
      <sb-zen-radio value="sibling" checked group="insert-type"> sibling </sb-zen-radio>
      <sb-zen-radio value="child" group="insert-type"> child </sb-zen-radio>
      <sb-zen-text>that is initally</sb-zen-text>
      <sb-zen-checkbox id="chk-selectable" label="Selectable"></sb-zen-checkbox>
      <sb-zen-checkbox id="chk-selected" label="Selected" checked></sb-zen-checkbox>
      <sb-zen-button variant="secondary" @click="${() => insertRow()}"> Insert row </sb-zen-button>
      <sb-zen-button class="space-before space-after" variant="secondary" @click="${() => removeRow()}">
        Remove selected
      </sb-zen-button>
    </sb-zen-space>
    ${logEvents('#table1', getComponentData('zen-table'))}`;
};

# ZenTable

Arrange data into rows and columns.

## Component previews

<br />

### 1. Table with fragment components

A composition of `ZenTable` component and fragment `ZenTableRow`, `ZenTableHeaderCell`, and `ZenTableCell` components.

<Canvas>
  <Story name="with-fragments">{Story1.bind({})}</Story>
</Canvas>

### 2. Table with sticky header

`ZenTable` component with sticky header.

<Canvas>
  <Story name="sticky-header">{Story2.bind({})}</Story>
</Canvas>

### 3. Table without header

`ZenTable` component without a header.

<Canvas>
  <Story name="no-header">{Story3.bind({})}</Story>
</Canvas>

### 4. Table with selectable rows

`ZenTable` component with selectable rows.

<Canvas>
  <Story name="selectable">{StorySelectable.bind({})}</Story>
</Canvas>

### 5. Table as a tree with header

`ZenTable` tree view with header.

<Canvas>
  <Story name="treeWithHeader">{StoryTreeWithHeader.bind({})}</Story>
</Canvas>

### 6. Custom extended row with content

`ZenTable` setting table row parameter fullspan and height of row we get a slotted row .

<Canvas>
  <Story name="custom">{StoryExtendedRowContent.bind({})}</Story>
</Canvas>

### 7. Resizing and text truncation

In order to have text content truncated if it's too long, wrap it with `<zen-text>`. Also play with props `truncate` and `no-shrink`:

<Canvas>
  <Story name="truncate">{StoryTruncateText.bind({})}</Story>
</Canvas>

## Properties

Use this section to test advanced table stuff.

<Canvas>
  <Story
    name="default"
    args={{
      ...getDefaultArgs(argTypes),
      columns: 'repeat(4, 1fr)',
    }}
  >
    {StoryWithControls.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

<sb-docs-table docs={JSON.stringify(getComponentData('zen-table'))}></sb-docs-table>
